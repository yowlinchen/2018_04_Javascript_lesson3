<!DOCTYPE html>
<html lang="en">

<head>
    <title>Canvas</title>
    <script>
        let cvs, ctx;
        window.addEventListener("load", function () {
            // document.querySelector(CSS選擇器)
            // emulating jQuery way of selecting the element
            cvs = document.querySelector("#cvs");
            ctx = cvs.getContext("2d"); // Get canvas 對應的 context 物件
            // filled
            ctx.fillStyle = "red";
            ctx.fillRect(100, 100, 50, 50);
            ctx.fillStyle = "black";
            ctx.fillText("Hello", 200, 200)
            // non-filled
            ctx.strokeRect(300, 300, 50, 100);
            // loading picture
            // ctx.drawImage(圖片物件, x, y, width, height);
            // picture object is for example <img> tag, can write in hmtl and get it later
            let img = new Image();
            img.src = "LandScape.jpg"
            // don't see the image if no onload function becasue when it is loading (taking time), draw it
            img.onload = function () {
                ctx.drawImage(img, 0, 0, cvs.width, cvs.height);
            }
        });

        function grayscale() {
            // somtimes this not work.  Needs to use localhost.  I am using liveserver way, so it is fine
            // if opening file by double clicking it, needs to apply below WAs
            // 1. put file into c:\appserv\www
            // 2. http://127.0.0.1/檔案名稱
            let pixels = ctx.getImageData(0, 0, 1, 1);
            console.log(pixels);
        }
    </script>
</head>

<body>
    <h3>Canvas</h3>
    <button onclick="grayscale();">Grayscale</button>
    <canvas width="600" height="450" id="cvs" style="border:1px solid #888888;">

    </canvas>
</body>

</html>